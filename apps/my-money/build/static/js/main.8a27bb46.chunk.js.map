{"version":3,"sources":["pages/HomePage/Home.module.css","components/Navbar.module.css","pages/LoginPage/Login.module.css","pages/SignupPage/Signup.module.css","config/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Navbar.jsx","hooks/useLogout.js","hooks/useFirestore.js","pages/HomePage/TransactionForm.jsx","pages/HomePage/TransactionList.jsx","pages/HomePage/Home.jsx","hooks/useCollection.js","hooks/useLogin.js","pages/LoginPage/Login.jsx","hooks/useSignup.js","pages/SignupPage/Signup.jsx","App.jsx","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timeStamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Navbar","logout","useState","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","a","signOut","message","useLogout","className","styles","navbar","title","to","displayName","onClick","initialState","document","success","firestoreReducer","useFirestore","collection","response","ref","dispatchIfNotCancelled","addDocument","doc","createdAt","fromDate","Date","add","addedDocument","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","map","transaction","Home","_query","_orderBy","documents","setDocuments","query","useRef","current","orderBy","where","onSnapshot","snapshot","resource","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","SetPassword","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a27bb46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__RZ-hk\",\"content\":\"Home_content__1rhYJ\",\"sidebar\":\"Home_sidebar__2mPab\",\"transactions\":\"Home_transactions__FabFe\",\"name\":\"Home_name__19nCk\",\"amount\":\"Home_amount__1Iejn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__kKBL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__38w3i\"};","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig)\n\n// init service\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\n\n// firestore datatype\nconst timeStamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, timeStamp}","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../config/config\";\n\nexport const AuthContext = createContext()\n\n// action: {type, payload}\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n            return {...state, user: action.payload}\n        case 'LOGOUT':\n            return {...state, user: null}\n        case 'AUTH_IS_READY': \n            return {...state, authIsReady: true, user: action.payload}\n        default:\n            return state\n    }\n}\n\n// context provider component\nexport const AuthContextProvider = ({children}) => {\n    const [state, dispatch] = useReducer(authReducer, {\n        user: null,\n        authIsReady: false\n    })\n\n    useEffect(()=>{\n        // unsub returns a listener that responds when first render or user auth state changes\n        const unsub = projectAuth.onAuthStateChanged((user)=>{\n            dispatch({type: 'AUTH_IS_READY', payload: user})\n            unsub() // need to unsubscribe listener\n        })\n    }, [])\n\n    console.log('AuthContext state: ', state)\n\n    return (\n        <AuthContext.Provider value={{...state, dispatch}}>\n            { children }\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\nexport const useAuthContext = () => {\n    const context = useContext(AuthContext)\n    if (!context) throw Error('useAuthContext must be used inside an AuthContextProvider')\n    return context\n}","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles\nimport styles from './Navbar.module.css'\n\nexport default function Navbar() {\n\n    const { logout } = useLogout()\n    // when user property in the context is changed by reducer, all components using the property re-renders\n    const { user } = useAuthContext() \n\n    return (\n        <nav className={styles.navbar}>\n          <ul>\n              <li className={styles.title}>MyMoney App</li>\n\n              {!user && (\n                <>\n                 <li><Link to='/login'>Login</Link></li>\n                 <li><Link to='/signup'>Signup</Link></li>\n                </>\n              )}\n\n              {user && (\n              <>\n                <li>hello, {user.displayName}</li>\n                <li>\n                    <button className='btn' onClick={logout}>Logout</button>\n                </li>\n              </>)}\n              \n          </ul>\n        </nav>\n    )\n}\n","import { useState, useEffect } from \"react\"\nimport { projectAuth } from \"../config/config\"\nimport { useAuthContext } from \"./useAuthContext\"\n\nexport const useLogout = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const {dispatch} = useAuthContext()\n\n    const logout = async () => {\n        setError(null)\n        setIsPending(true)\n\n        // sign user out\n        try {\n            await projectAuth.signOut()\n            \n            // dispatch logout action\n            dispatch({type: 'LOGOUT'})\n\n            // update states\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null) \n            }\n        } catch(err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    useEffect(()=> {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { logout, error, isPending }\n}","// add, remove items from firestore\n\nimport { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timeStamp } from '../config/config'\n\nlet initialState = {\n    document: null,\n    isPending: false,\n    error: null,\n    success: null\n}\n\nconst firestoreReducer = (state, action) => {\n    switch (action.type) {\n        case 'IS_PENDING':\n            return {isPending: true, document: null, success: false, error: null}\n        case 'ADDED_DOCUMENT':\n            return {isPending: false, document: action.payload, success: true, error: null}\n        case \"DELETED_DOCUMENT\":\n            return {isPending: false, document: null, success: true, error: null}\n        case 'ERROR':\n            return {isPending: false, document: null, success: false, error: action.payload}\n        default:\n            return state\n    }\n}\n\nexport const useFirestore = (collection) => {\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\n    const [isCancelled, setIsCancelled] = useState(false)\n\n    // collection reference\n    const ref = projectFirestore.collection(collection)\n\n    // only dispatch is not cancelled\n    const dispatchIfNotCancelled = (action) => {\n        if (!isCancelled) dispatch(action)\n    }\n\n    // add document\n    const addDocument = async (doc) => {\n        dispatch({type: 'IS_PENDING'})\n        try {\n            const createdAt = timeStamp.fromDate(new Date()) // current datetiem\n            const addedDocument = await ref.add({...doc, createdAt})\n            dispatchIfNotCancelled({type: 'ADDED_DOCUMENT', payload: addedDocument})\n        } catch(err) {\n            dispatchIfNotCancelled({type: 'ERROR', payload: err.message})\n        }\n    }\n\n    // delete document\n    const deleteDocument = async (id) => {\n        dispatch({type: 'IS_PENDING'})\n        try {\n            await ref.doc(id).delete()\n            dispatchIfNotCancelled({type: 'DELETED_DOCUMENT'})\n        } catch(err) {\n            dispatchIfNotCancelled({type: 'ERROR', payload: err.message})\n        }\n    }\n\n    // clearup function\n    useEffect(()=>{\n        return () => setIsCancelled(true)\n    }, [])\n\n    return {addDocument, deleteDocument, response}\n}","import { useEffect, useState } from \"react\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\n\nexport default function TransactionForm({ uid }) {\n\n    const [name, setName] = useState('')\n    const [amount, setAmount] = useState('')\n    const {addDocument, response} = useFirestore('transactions')\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        console.log({name, amount});\n        addDocument({uid, name, amount})\n    }\n\n    useEffect(()=> {\n        if (response.success) {\n            setName('')\n            setAmount('')\n        }\n    }, [response.success])\n\n    return (\n        <>\n            <h3>Add a Transaction</h3>\n\n            <form onSubmit={handleSubmit}>\n                <label>\n                    <span>Transaction Name</span>\n                    <input type=\"text\" \n                     required\n                     onChange={(e)=>setName(e.target.value)}\n                     value={name}/>\n                </label>\n\n                <label>\n                    <span>Amount ($):</span>\n                    <input type=\"text\" \n                     required\n                     onChange={(e)=>setAmount(e.target.value)}\n                     value={amount}/>\n                </label>\n\n                <button>Add Transaction</button>\n            </form>\n        </>\n    )\n}\n","import { useFirestore } from '../../hooks/useFirestore'\nimport styles from './Home.module.css'\n\nexport default function TransactionList({ transactions }) {\n\n    const { deleteDocument, response} = useFirestore('transactions')\n    console.log(response);\n\n    return (\n        <ul className={styles.transactions}>\n            {transactions.map((transaction)=>(\n                <li key={transaction.id}>\n                    <p className={styles.name}>{transaction.name}</p>\n                    <p className={styles.amount}>${transaction.amount}</p>\n                    <button onClick={()=>deleteDocument(transaction.id)}>x</button>\n                </li>\n            ))}\n        </ul>\n    )\n}\n","import styles from './Home.module.css'\nimport TransactionForm from './TransactionForm'\nimport TransactionList from './TransactionList'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\n\nexport default function Home() {\n\n    const { user } = useAuthContext()\n    const {documents, error} = useCollection(\n        'transactions', \n        [\"uid\", \"==\", user.uid],\n        [\"createdAt\", \"desc\"]\n    )\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.content}>\n                transaction list\n                {error && <p>{error}</p>}\n                {documents && <TransactionList transactions={documents}/>}\n            </div>\n\n            <div className={styles.sidebar}>\n                <TransactionForm uid={user.uid}/>\n            </div>\n        </div>\n    )\n}\n","import { useEffect, useRef, useState } from \"react\"\nimport { projectFirestore } from \"../config/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n\n    const [documents, setDocuments] = useState(null)\n    const [error, setError] = useState(null)\n\n    // if don't use a ref --> infinite loop in useEffect\n    // _query is am reference ary and is diffrerent in memeory on every function call\n    const query = useRef(_query).current // current ary value\n    const orderBy = useRef(_orderBy).current\n\n    useEffect(()=>{\n        let ref = projectFirestore.collection(collection)\n        if (query) {\n            ref = ref.where(...query)\n        }\n        if (orderBy) {\n            ref = ref.orderBy(...orderBy)\n        }\n        const unsub = ref.onSnapshot((snapshot)=> {\n            let resource = []\n            // ary of documents\n            snapshot.docs.forEach(doc => {\n                resource.push({...doc.data(), id:doc.id})\n            })\n            // update states\n            setDocuments(resource)\n            setError(null)\n        }, (error) => {\n            console.log(error)\n            setError(error.message)\n        })\n        // clearup function: unsubscribe on unmount\n        return () => unsub()\n    }, [collection, query, orderBy])\n\n    return {documents, error}\n}","import { useState, useEffect } from \"react\"\nimport { projectAuth } from \"../config/config\"\nimport { useAuthContext } from \"./useAuthContext\"\n\nexport const useLogin = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const {dispatch} = useAuthContext()\n\n    const login = async (email, password) => {\n        \n        setError(null)\n        setIsPending(true)\n\n        try {\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n            // dispatch login action\n            dispatch({type: 'LOGIN', payload: res.user})\n\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n        } catch(err) {\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(err.message)\n                console.log(err.message)\n            }\n        }\n    }\n\n    useEffect(()=> {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { login, error, isPending }\n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\nimport styles from './Login.module.css'\n\nexport default function Login() {\n\n    const [email, setEmail] = useState('')\n    const [password, SetPassword] = useState('')\n    const {login, error, isPending} = useLogin()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        login(email, password)\n    }\n\n    return (\n        // class = styles.login-form\n        <form onSubmit={handleSubmit} className={styles['login-form']}>\n            <h2>Login</h2>\n\n            <label>\n                <span>email:</span>\n                <input type=\"email\"\n                 onChange={(e)=>setEmail(e.target.value)}\n                 value ={email}/>\n            </label>\n\n            <label>\n                <span>password:</span>\n                <input type=\"password\"\n                 onChange={(e)=>SetPassword(e.target.value)}\n                 value={password}/>\n            </label>\n\n            {!isPending && <button className='btn'>Log In</button>}\n            {isPending && <button disabled className='btn'>Loding...</button>}\n            \n            {error && <p>{error}</p>}\n        </form>\n    )\n}\n","import { useState, useEffect } from \"react\"\nimport  { projectAuth } from '../config/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const signup = async (email, password, displayName) => {\n        setError(null)\n        setIsPending(true)\n\n        try {\n            // sign up user\n            const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n            if (!res) throw new Error('Could not complete sign up')\n\n            // add the additional attribute displayName to user\n            await res.user.updateProfile({displayName: displayName})\n\n            // dispatch login action\n            dispatch({type: 'LOGIN', payload: res.user})\n\n            if (!isCancelled) {\n               setIsPending(false)\n               setError(null) \n            }\n            \n        } catch (err) {\n            console.log(err.message)\n\n            // update states\n            if (!isCancelled) {\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    // cleanup function\n    useEffect(()=> {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return {error, isPending, signup}\n}","import { useState } from 'react';\nimport { useSignup } from '../../hooks/useSignup';\nimport styles from './Signup.module.css';\n\n\nexport default function Signup() {\n\n    const [email, setEmail] = useState('')\n    const [password, SetPassword] = useState('')\n    const [displayName, setDisplayName] = useState('')\n    const { signup, isPending, error } = useSignup()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        signup(email, password, displayName)\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit} className={styles['signup-form']}>\n            <h2>Signup</h2>\n\n            <label>\n                <span>display name:</span>\n                <input type=\"text\"\n                 onChange={(e)=>setDisplayName(e.target.value)}\n                 value={displayName}/>\n            </label>\n\n            <label>\n                <span>email:</span>\n                <input type=\"email\"\n                 onChange={(e)=>setEmail(e.target.value)}\n                 value ={email}/>\n            </label>\n\n            <label>\n                <span>password:</span>\n                <input type=\"password\"\n                 onChange={(e)=>SetPassword(e.target.value)}\n                 value={password}/>\n            </label>\n\n            {!isPending && <button className='btn'>Sign Up</button>}\n            {isPending && <button className='btn' disabled>loading...</button>}\n\n            {error && <p>{error}</p>}\n        </form>\n        </div>\n    )\n}\n","import {BrowserRouter, Route, Switch, Redirect} from 'react-router-dom'\nimport Navbar from './components/Navbar';\n\n// pages\nimport Home from './pages/HomePage/Home';\nimport Login from './pages/LoginPage/Login';\nimport Signup from './pages/SignupPage/Signup';\n\nimport { useAuthContext } from './hooks/useAuthContext';\n\nfunction App() {\n\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n        <Navbar/>\n\n        <Switch>\n          <Route exact path='/'>\n            {!user && <Redirect to=\"/login\"/>}\n            { user && <Home/>}\n          </Route>\n        </Switch>\n\n        <Switch>\n          <Route exact path='/signup'>\n          {!user && <Signup/>}\n            {user && <Redirect to='/'/>}\n          </Route>\n        </Switch>\n\n        <Switch>\n          <Route exact path='/login'>\n            {!user && <Login/>}\n            {user && <Redirect to='/'/>}\n          </Route>\n        </Switch>\n      </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}